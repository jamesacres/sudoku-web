(()=>{var e={};e.id=886,e.ids=[886],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},5151:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),r(2664),r(8142),r(8909);var s=r(3282),i=r(5736),a=r(3906),l=r.n(a),o=r(6880),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let d=["",{children:["book",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2664)),"/home/node/git/sudoku-web/apps/sudoku/src/app/book/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,154))).default(e),async e=>(await Promise.resolve().then(r.bind(r,6495))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8142)),"/home/node/git/sudoku-web/apps/sudoku/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,8909)),"/home/node/git/sudoku-web/apps/sudoku/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,154))).default(e),async e=>(await Promise.resolve().then(r.bind(r,6495))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/node/git/sudoku-web/apps/sudoku/src/app/book/page.tsx"],c="/book/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/book/page",pathname:"/book",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3506:(e,t,r)=>{Promise.resolve().then(r.bind(r,1251))},1251:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(3227),i=r(1043),a=r(3677),l=r.n(a),o=r(6047),n=r.n(o);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var u=(0,a.forwardRef)(function(e,t){var r=e.color,s=e.size,i=void 0===s?24:s,a=function(e,t){if(null==e)return{};var r,s,i=function(e,t){if(null==e)return{};var r,s,i={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["color","size"]);return l().createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),l().createElement("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),l().createElement("polyline",{points:"5 12 12 5 19 12"}))});u.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},u.displayName="ArrowUp";var c=r(176),m=r(970),p=r(6808),x=r(4260),h=r(1497),f=r(4800);async function g(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}function b(){let e=(0,i.useRouter)(),{user:t,loginRedirect:r}=(0,a.useContext)(m.St)||{},{bookData:l,isLoading:o,error:n,fetchBookData:d}=(0,p.C)(),{sessions:b,isLoading:y,fetchSessions:v,lazyLoadFriendSessions:k}=Object(function(){var e=Error("Cannot find module '@/providers/SessionsProvider/SessionsProvider'");throw e.code="MODULE_NOT_FOUND",e}())(),{parties:D}=(0,x.L)(),{isOnline:w}=(0,m.sd)(),[j,N]=(0,a.useState)({}),[z,P]=(0,a.useState)(!1),E=new Date(new Date().toISOString()).toLocaleString("en-US",{month:"long",timeZone:"UTC"}),O=(0,a.useCallback)(async e=>{if(!b)return null;let t=`sudoku-${await g(e.initial)}`;return b.find(e=>e.sessionId===t)},[b]);return((0,a.useCallback)(async(e,t)=>await O(e)||{sessionId:`sudoku-${await g(e.initial)}`,state:{initial:(0,h.Q)(e.initial),final:(0,h.Q)(e.final),answerStack:[(0,h.Q)(e.initial)],metadata:{difficulty:e.difficulty.coach,sudokuBookPuzzleId:`${l?.sudokuBookId||"unknown"}-puzzle-${t}`}},updatedAt:new Date},[l?.sudokuBookId,O]),o||y)?s.jsx("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-4 border-gray-300 border-t-blue-600"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o&&y?"Loading puzzle book...":o?"Loading puzzles...":"Loading your progress..."})]})}):n?s.jsx("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n}),w&&s.jsx("button",{onClick:()=>d(),className:"mt-4 mr-2 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Try Again"}),s.jsx("button",{onClick:()=>e.push("/"),className:"mt-4 rounded-lg bg-gray-600 px-4 py-2 text-white hover:bg-gray-700",children:"Back to Home"})]})}):l?s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[s.jsx("div",{className:"pt-safe bg-gradient-to-r from-blue-600 to-purple-600 px-6",children:s.jsx("div",{className:"container mx-auto max-w-6xl py-6 md:py-8",children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-white md:flex-row md:items-center",children:[s.jsx("div",{className:"mb-4 md:mr-6 md:mb-0",children:s.jsx(c.F,{month:E,size:"large"})}),(0,s.jsxs)("div",{className:"text-center md:text-left",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold md:text-4xl",children:[E," Puzzle Book"]}),(0,s.jsxs)("p",{className:"text-white/80 md:text-lg",children:[l.puzzles.length," technique-focused puzzles to challenge your skills"]}),(0,s.jsxs)("div",{className:"mt-3 flex flex-wrap justify-center gap-2 md:justify-start",children:[(0,s.jsxs)("div",{className:"rounded-full bg-white/20 px-3 py-1 text-sm backdrop-blur-sm",children:["\uD83D\uDCCA"," ",b?.filter(e=>l.puzzles.some(t=>h.s(e.state.initial)===h.s(h.Q(t.initial)))).filter(e=>e.state.completed).length||0," ","completed"]}),(0,s.jsxs)("div",{className:"rounded-full bg-white/20 px-3 py-1 text-sm backdrop-blur-sm",children:["\uD83C\uDFAF"," ",b?.filter(e=>l.puzzles.some(t=>h.s(e.state.initial)===h.s(h.Q(t.initial)))).filter(e=>!e.state.completed&&e.state.answerStack.length>1).length||0," ","in progress"]})]})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto max-w-6xl px-6 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h3",{className:"mb-4 text-center text-lg font-semibold text-gray-900 dark:text-white",children:"Jump to Difficulty"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:[{difficulty:"1-very-easy",label:"\uD83D\uDFE2 Very Easy"},{difficulty:"2-easy",label:"\uD83D\uDFE2 Easy"},{difficulty:"3-moderately-easy",label:"\uD83D\uDFE1 Moderately Easy"},{difficulty:"4-moderate",label:"\uD83D\uDFE1 Moderate"},{difficulty:"5-moderately-hard",label:"\uD83D\uDFE0 Moderately Hard"},{difficulty:"6-hard",label:"\uD83D\uDD34 Hard"},{difficulty:"7-vicious",label:"\uD83D\uDD25 Vicious"},{difficulty:"8-fiendish",label:"\uD83D\uDD25 Fiendish"},{difficulty:"9-devilish",label:"\uD83D\uDD25 Devilish"},{difficulty:"10-hell",label:"\uD83D\uDD25\uD83D\uDD25 Hell"},{difficulty:"11-beyond-hell",label:"\uD83D\uDD25\uD83D\uDD25\uD83D\uDD25 Beyond Hell"}].map(e=>l?.puzzles.some(t=>t.difficulty.coach===e.difficulty)?s.jsx("button",{onClick:()=>{let t=l?.puzzles.findIndex(t=>t.difficulty.coach===e.difficulty);if(-1!==t&&void 0!==t){let e=document.getElementById(`puzzle-${t}`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},className:"cursor-pointer rounded-full bg-white/20 px-3 py-2 text-xs font-medium text-gray-800 backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 dark:text-gray-200",children:e.label},e.difficulty):null)})]}),s.jsx("ul",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-4 lg:grid-cols-4",children:l.puzzles.map((e,t)=>{let r=j[t];return r?s.jsx("div",{id:`puzzle-${t}`,children:s.jsx(f.Z,{session:r,bookPuzzle:{puzzle:e,index:t,sudokuBookId:l?.sudokuBookId||"unknown"}})},t):s.jsx("div",{id:`puzzle-${t}`,className:"h-32 animate-pulse rounded-lg bg-gray-200"},t)})})]}),s.jsx("div",{className:"pb-24"}),z&&s.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"bg-theme-primary hover:bg-theme-primary-dark dark:bg-theme-primary-light dark:hover:bg-theme-primary fixed right-6 bottom-20 z-50 flex h-12 w-12 items-center justify-center rounded-full text-white shadow-lg transition-all hover:scale-110 active:scale-95","aria-label":"Scroll to top",children:s.jsx(u,{className:"h-5 w-5"})})]})}):s.jsx("div",{className:"flex min-h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No puzzle book data available."}),s.jsx("button",{onClick:()=>e.push("/"),className:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"Back to Home"})]})})}!function(){var e=Error("Cannot find module '@/providers/SessionsProvider/SessionsProvider'");throw e.code="MODULE_NOT_FOUND",e}()},2664:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(3189).createProxy)(String.raw`/home/node/git/sudoku-web/apps/sudoku/src/app/book/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[522,395,443,147,176,800],()=>r(5151));module.exports=s})();