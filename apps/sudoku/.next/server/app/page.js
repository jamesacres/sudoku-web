(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},7978:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(151),s(8142),s(8909);var r=s(3282),a=s(5736),l=s(3906),n=s.n(l),i=s(6880),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,151)),"/home/node/git/sudoku-web/apps/sudoku/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,154))).default(e),async e=>(await Promise.resolve().then(s.bind(s,6495))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,8142)),"/home/node/git/sudoku-web/apps/sudoku/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,8909)),"/home/node/git/sudoku-web/apps/sudoku/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,154))).default(e),async e=>(await Promise.resolve().then(s.bind(s,6495))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/node/git/sudoku-web/apps/sudoku/src/app/page.tsx"],m="/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5888:(e,t,s)=>{Promise.resolve().then(s.bind(s,1031))},1031:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>K});var r,a,l,n=s(3227),i=s(970),o=s(4800);let d=({sessions:e})=>{let t=e?.sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime());return(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("h1",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-4xl font-bold text-transparent",children:"My Puzzles"}),n.jsx("p",{className:"my-4",children:"This page lists puzzles you have played in the past 30 days."}),n.jsx("p",{className:"my-4",children:"Press Start Race in the bottom navigation to find a new puzzle to solve or resume a previous one below."}),!!t?.length&&(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("h2",{className:"mb-2 text-2xl font-extrabold",children:"Recent Puzzles"}),n.jsx("ul",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-4 lg:grid-cols-4",children:t?.map(e=>n.jsx(o.Z,{session:e},e.sessionId))})]})]})};var c=s(3677),m=s.n(c),u=s(8344),x=s(1566),h=s(2473),p=s(9365),b=s(9555),f=s(3974);(function(e){e.LIFETIME="lifetime",e.ONE_MONTH="one_month",e.ONE_YEAR="one_year"})(r||(r={})),function(e){e.SIMPLE="simple",e.EASY="easy",e.INTERMEDIATE="intermediate",e.EXPERT="expert"}(a||(a={})),function(e){e.VERY_EASY="1-very-easy",e.EASY="2-easy",e.MODERATELY_EASY="3-moderately-easy",e.MODERATE="4-moderate",e.MODERATELY_HARD="5-moderately-hard",e.HARD="6-hard",e.VICIOUS="7-vicious",e.FIENDISH="8-fiendish",e.DEVILISH="9-devilish",e.HELL="10-hell",e.BEYOND_HELL="11-beyond-hell"}(l||(l={}));let g={DAILY_PUZZLE_BASE:100,BOOK_PUZZLE_BASE:150,SCANNED_PUZZLE_BASE:75,VOLUME_MULTIPLIER:10,DIFFICULTY_MULTIPLIERS:{[i.Difficulty.SIMPLE]:1,[i.Difficulty.EASY]:1.2,[i.Difficulty.INTERMEDIATE]:1.5,[i.Difficulty.EXPERT]:2,[l.VERY_EASY]:1,[l.EASY]:1.2,[l.MODERATELY_EASY]:1.3,[l.MODERATE]:1.4,[l.MODERATELY_HARD]:1.6,[l.HARD]:1.8,[l.VICIOUS]:2.5,[l.FIENDISH]:2.8,[l.DEVILISH]:3.2,[l.HELL]:3.6,[l.BEYOND_HELL]:4},SPEED_THRESHOLDS:{LIGHTNING:180,FAST:300,QUICK:600,STEADY:1200},SPEED_BONUSES:{LIGHTNING:500,FAST:300,QUICK:150,STEADY:50},RACING_BONUS_PER_PERSON:100},y=e=>e.state.metadata?.sudokuId?.includes("oftheday")?"daily":e.state.metadata?.sudokuBookPuzzleId?"book":e.state.metadata?.scannedAt?"scanned":"unknown",j=e=>e.state.metadata?.sudokuId?e.state.metadata.sudokuId:e.state.metadata?.sudokuBookPuzzleId?e.state.metadata.sudokuBookPuzzleId:e.sessionId,v=e=>e<=g.SPEED_THRESHOLDS.LIGHTNING?g.SPEED_BONUSES.LIGHTNING:e<=g.SPEED_THRESHOLDS.FAST?g.SPEED_BONUSES.FAST:e<=g.SPEED_THRESHOLDS.QUICK?g.SPEED_BONUSES.QUICK:e<=g.SPEED_THRESHOLDS.STEADY?g.SPEED_BONUSES.STEADY:0,w=(e,t,s)=>{let r=j(e),a=e.state.completed?.seconds||1/0,l=0;return Object.entries(t).forEach(([t,n])=>{if(t===s)return;let i=n?.find(e=>j(e)===r&&e.state.completed);i&&i.state.completed&&e.state.completed&&a<i.state.completed.seconds&&l++}),{bonus:l*g.RACING_BONUS_PER_PERSON,wins:l}},N=(e,t,s)=>{let r=e.filter(e=>e.state.completed&&!(0,f.k)(e.state)),a=0,l=0,n=0,i=0,o=0,d=0,c=0,m={totalPuzzles:r.length,dailyPuzzles:0,bookPuzzles:0,scannedPuzzles:0,averageTime:0,fastestTime:1/0,racingWins:0},u=0;for(let e of r){let r=e.state.completed?.seconds||0;u+=r,m.fastestTime=Math.min(m.fastestTime,r),a+=g.VOLUME_MULTIPLIER;let x=y(e),h=0,p=1;switch(x){case"daily":h=g.DAILY_PUZZLE_BASE,m.dailyPuzzles++,l+=h,p=g.DIFFICULTY_MULTIPLIERS[e.state.metadata?.difficulty||""]||1;break;case"book":h=g.BOOK_PUZZLE_BASE,m.bookPuzzles++,n+=h,p=g.DIFFICULTY_MULTIPLIERS[e.state.metadata?.difficulty||""]||1;break;case"scanned":h=g.SCANNED_PUZZLE_BASE,m.scannedPuzzles++,i+=h}o+=h*(p-1),d+=v(r);let b=w(e,t,s);c+=b.bonus,m.racingWins+=b.wins}return m.averageTime=m.totalPuzzles>0?u/m.totalPuzzles:0,m.fastestTime=m.fastestTime===1/0?0:m.fastestTime,{volumeScore:a,dailyPuzzleScore:l,bookPuzzleScore:n,scannedPuzzleScore:i,difficultyBonus:o,speedBonus:d,racingBonus:c,stats:m}},k=e=>0===e?"0:00":`${Math.floor(e/60)}:${Math.round(e%60).toString().padStart(2,"0")}`,S=(e,t)=>{for(let s of t){let t=s.members.find(t=>t.userId===e);if(t)return t.memberNickname}return"Unknown User"};var E=s(3557),z=s(6047),D=s.n(z);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var O=(0,c.forwardRef)(function(e,t){var s=e.color,r=e.size,a=void 0===r?24:r,l=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,["color","size"]);return m().createElement("svg",P({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===s?"currentColor":s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),m().createElement("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),m().createElement("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}))});function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}O.propTypes={color:D().string,size:D().oneOfType([D().string,D().number])},O.displayName="Book";var I=(0,c.forwardRef)(function(e,t){var s=e.color,r=e.size,a=void 0===r?24:r,l=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,["color","size"]);return m().createElement("svg",T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===s?"currentColor":s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),m().createElement("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),m().createElement("circle",{cx:"12",cy:"13",r:"4"}))});I.propTypes={color:D().string,size:D().oneOfType([D().string,D().number])},I.displayName="Camera";var L=s(7600);let C=({breakdown:e,stats:t})=>{let s=[{label:"Volume Bonus",value:e.volumeScore,detail:`${t.totalPuzzles} puzzles completed`,icon:n.jsx(b.Z,{size:16,className:"text-green-600"}),color:"border-l-green-500"},{label:"Daily Puzzles",value:e.dailyPuzzleScore,detail:`${t.dailyPuzzles} daily challenges`,icon:n.jsx(E.Z,{size:16,className:"text-blue-600"}),color:"border-l-blue-500"},{label:"Book Puzzles",value:e.bookPuzzleScore,detail:`${t.bookPuzzles} from puzzle books`,icon:n.jsx(O,{size:16,className:"text-purple-600"}),color:"border-l-purple-500"},{label:"Scanned Puzzles",value:e.scannedPuzzleScore,detail:`${t.scannedPuzzles} imported puzzles`,icon:n.jsx(I,{size:16,className:"text-orange-600"}),color:"border-l-orange-500"},{label:"Difficulty Bonus",value:e.difficultyBonus,detail:"Harder puzzles = more points",icon:n.jsx(b.Z,{size:16,className:"text-red-600"}),color:"border-l-red-500"},{label:"Speed Bonus",value:e.speedBonus,detail:`Fastest: ${k(t.fastestTime)}`,icon:n.jsx(L.Z,{size:16,className:"text-yellow-600"}),color:"border-l-yellow-500"},{label:"Racing Bonus",value:e.racingBonus,detail:"Beat friends who also completed",icon:n.jsx(b.Z,{size:16,className:"text-indigo-600"}),color:"border-l-indigo-500"}];return(0,n.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50/50 px-4 pb-4 dark:border-gray-600 dark:bg-zinc-700/30",children:[n.jsx("div",{className:"mb-3 pt-4 font-semibold text-gray-700 dark:text-gray-300",children:"Score Breakdown"}),n.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:s.map(e=>e.value>0&&(0,n.jsxs)("div",{className:`rounded-lg border-l-4 bg-white p-3 dark:bg-zinc-800 ${e.color} shadow-sm`,children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center",children:[e.icon,n.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:e.label})]}),(0,n.jsxs)("div",{className:"mb-1 text-lg font-bold text-green-600 dark:text-green-400",children:["+",e.value.toLocaleString()]}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.detail})]},e.label))})]})},_=({entry:e,rank:t,isCurrentUser:s})=>{let[r,a]=(0,c.useState)(!1);return(0,n.jsxs)("div",{className:`rounded-2xl border transition-all duration-200 ${s?"border-blue-300 bg-blue-50/80 shadow-lg":"border-stone-200 bg-stone-50/80 shadow-sm"} backdrop-blur-sm dark:border-gray-700 dark:bg-zinc-800/80`,children:[(0,n.jsxs)("div",{className:"hover:bg-opacity-90 flex cursor-pointer items-center p-4 transition-all",onClick:()=>a(!r),children:[n.jsx("div",{className:"w-16 text-center",children:n.jsx("span",{className:"text-2xl font-bold",children:1===t?"\uD83E\uDD47":2===t?"\uD83E\uDD48":3===t?"\uD83E\uDD49":`#${t}`})}),(0,n.jsxs)("div",{className:"ml-4 flex-1",children:[(0,n.jsxs)("div",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:[e.username,s&&n.jsx("span",{className:"ml-2 text-sm text-blue-600",children:"(You)"})]}),(0,n.jsxs)("div",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:[e.stats.totalPuzzles," puzzles • Avg:"," ",k(e.stats.averageTime),e.stats.fastestTime>0&&(0,n.jsxs)(n.Fragment,{children:[" • Best: ",k(e.stats.fastestTime)]}),e.stats.racingWins>0&&(0,n.jsxs)(n.Fragment,{children:[" • \uD83C\uDFC1 ",e.stats.racingWins," wins"]})]})]}),(0,n.jsxs)("div",{className:"mr-4 text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.totalScore.toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-500",children:"points"})]}),n.jsx("div",{className:"text-gray-400",children:r?n.jsx(h.Z,{size:20}):n.jsx(p.Z,{size:20})})]}),r&&n.jsx(C,{breakdown:e.breakdown,stats:e.stats})]})},A=({isOpen:e,onClose:t})=>e?n.jsx("div",{className:"bg-opacity-50 pb-safe fixed inset-0 z-[60] flex items-center justify-center bg-black p-4",onClick:t,children:(0,n.jsxs)("div",{className:"max-h-[calc(90vh-var(--ion-safe-area-bottom))] w-full max-w-2xl overflow-y-auto rounded-2xl bg-gradient-to-br from-purple-50 via-white to-blue-50 shadow-2xl dark:from-purple-950 dark:via-zinc-800 dark:to-blue-950",onClick:e=>e.stopPropagation(),children:[n.jsx("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-purple-600 to-blue-600 p-6 pb-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("h3",{className:"flex items-center text-2xl font-bold text-white",children:[n.jsx(b.Z,{className:"mr-3 text-yellow-300",size:28}),"\uD83C\uDFC6 Scoring System"]}),n.jsx("button",{onClick:t,className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-white/20 text-white transition-colors hover:bg-white/30",children:"✕"})]})}),n.jsx("div",{className:"pb-safe px-6 pb-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"rounded-lg bg-gradient-to-r from-yellow-50 to-orange-50 p-4 dark:from-yellow-900/20 dark:to-orange-900/20",children:[n.jsx("h4",{className:"mb-3 text-lg font-bold text-yellow-800 dark:text-yellow-200",children:"\uD83C\uDFC1 Racing Wins"}),(0,n.jsxs)("p",{className:"mb-3 text-sm font-semibold text-yellow-700 dark:text-yellow-300",children:["+",g.RACING_BONUS_PER_PERSON," points for each friend you beat on the same completed puzzle!"]}),n.jsx("p",{className:"mb-2 text-sm text-yellow-600 dark:text-yellow-400",children:"Complete puzzles faster than your friends to earn big racing bonuses. Beat 5 friends = +500 points!"})]}),(0,n.jsxs)("div",{className:"rounded-xl border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 dark:border-blue-700 dark:from-blue-900/30 dark:to-indigo-900/30",children:[n.jsx("h4",{className:"mb-3 flex items-center text-lg font-bold text-blue-800 dark:text-blue-200",children:"\uD83D\uDCCA Base Points"}),(0,n.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,n.jsxs)("div",{className:"rounded-lg bg-green-500 px-3 py-2 text-white",children:[n.jsx("div",{className:"text-sm font-semibold",children:"Any puzzle"}),(0,n.jsxs)("div",{className:"text-lg font-bold",children:["+",g.VOLUME_MULTIPLIER]})]}),(0,n.jsxs)("div",{className:"rounded-lg bg-blue-500 px-3 py-2 text-white",children:[n.jsx("div",{className:"text-sm font-semibold",children:"Daily puzzle"}),(0,n.jsxs)("div",{className:"text-lg font-bold",children:["+",g.DAILY_PUZZLE_BASE]})]}),(0,n.jsxs)("div",{className:"rounded-lg bg-purple-500 px-3 py-2 text-white",children:[n.jsx("div",{className:"text-sm font-semibold",children:"Book puzzle"}),(0,n.jsxs)("div",{className:"text-lg font-bold",children:["+",g.BOOK_PUZZLE_BASE]})]}),(0,n.jsxs)("div",{className:"rounded-lg bg-orange-500 px-3 py-2 text-white",children:[n.jsx("div",{className:"text-sm font-semibold",children:"Scanned puzzle"}),(0,n.jsxs)("div",{className:"text-lg font-bold",children:["+",g.SCANNED_PUZZLE_BASE]})]})]})]}),(0,n.jsxs)("div",{className:"rounded-xl border border-red-200 bg-gradient-to-r from-red-50 to-pink-50 p-4 dark:border-red-700 dark:from-red-900/30 dark:to-pink-900/30",children:[n.jsx("h4",{className:"mb-4 text-lg font-bold text-red-800 dark:text-red-200",children:"\uD83D\uDD25 Difficulty Multipliers"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx("h5",{className:"mb-3 text-sm font-semibold text-red-700 dark:text-red-300",children:"⭐ Sudoku of the Day"}),n.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{key:i.Difficulty.SIMPLE,name:"⚡ Tricky",emoji:"⭐"},{key:i.Difficulty.EASY,name:"\uD83D\uDD25 Challenging",emoji:"⭐⭐"},{key:i.Difficulty.INTERMEDIATE,name:"\uD83D\uDE80 Hard",emoji:"⭐⭐⭐"}].map(({key:e,name:t,emoji:s})=>{let r=g.DIFFICULTY_MULTIPLIERS[e];return n.jsx("div",{className:`rounded-lg px-3 py-2 text-sm font-medium ${r>=2?"bg-red-600 text-white":r>=1.5?"bg-orange-500 text-white":r>=1.2?"bg-yellow-500 text-white":"bg-green-500 text-white"}`,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:t}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-yellow-300",children:s}),(0,n.jsxs)("span",{className:"font-bold",children:[r,"x"]})]})]})},e)})})]}),(0,n.jsxs)("div",{children:[n.jsx("h5",{className:"mb-3 text-sm font-semibold text-red-700 dark:text-red-300",children:"\uD83D\uDCD6 Book Puzzles"}),n.jsx("div",{className:"grid grid-cols-1 gap-1 sm:grid-cols-2",children:Object.values(l).sort((e,t)=>g.DIFFICULTY_MULTIPLIERS[e]-g.DIFFICULTY_MULTIPLIERS[t]).map(e=>{let t=g.DIFFICULTY_MULTIPLIERS[e],s=e.replace(/^\d+-/,"").split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,n.jsxs)("div",{className:`rounded-lg px-2 py-1 text-xs font-medium ${t>=4?"bg-black text-white":t>=3?"bg-red-900 text-white":t>=2?"bg-red-600 text-white":t>=1.5?"bg-orange-500 text-white":t>=1.2?"bg-yellow-500 text-white":"bg-green-500 text-white"}`,children:[s,": ",t,"x"]},e)})})]})]})]}),(0,n.jsxs)("div",{className:"rounded-xl border border-purple-200 bg-gradient-to-r from-purple-50 to-indigo-50 p-4 dark:border-purple-700 dark:from-purple-900/30 dark:to-indigo-900/30",children:[n.jsx("h4",{className:"mb-4 text-lg font-bold text-purple-800 dark:text-purple-200",children:"⚡ Speed Bonuses"}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Object.entries(g.SPEED_THRESHOLDS).sort(([,e],[,t])=>t-e).map(([e,t])=>{let s=g.SPEED_BONUSES[e],r=Math.floor(t/60),a=t%60,l=a>0?`${r}:${a.toString().padStart(2,"0")}`:`${r} min`;return n.jsx("div",{className:`rounded-lg px-3 py-2 ${(e=>{switch(e){case"LIGHTNING":return"bg-yellow-400 text-black";case"FAST":return"bg-orange-500 text-white";case"QUICK":return"bg-blue-500 text-white";case"STEADY":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}})(e)}`,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"text-sm font-semibold",children:[(e=>{switch(e){case"LIGHTNING":return"⚡";case"FAST":return"\uD83D\uDD25";case"QUICK":return"\uD83D\uDCA8";case"STEADY":return"\uD83C\uDFAF";default:return"⏱️"}})(e)," Under ",l]}),(0,n.jsxs)("div",{className:"text-lg font-bold",children:["+",s]})]})},e)})})]})]})})]})}):null,R=({sessions:e,friendSessions:t,parties:s,user:r,selectedParty:a})=>{let[l,i]=(0,c.useState)(!1),o=(0,c.useMemo)(()=>{if(!e||!s||!r||!t)return[];let l=a?new Set(a.members.map(e=>e.userId)):new Set,n={};Object.entries(t).forEach(([e,t])=>{t?.sessions&&(!a||l.has(e))&&(n[e]=t.sessions)}),e&&(n[r.sub]=e);let i=[];if(e){let t=N(e,n,r.sub),s=t.volumeScore+t.dailyPuzzleScore+t.bookPuzzleScore+t.scannedPuzzleScore+t.difficultyBonus+t.speedBonus+t.racingBonus;i.push({userId:r.sub,username:r.name||"You",totalScore:s,breakdown:{volumeScore:t.volumeScore,dailyPuzzleScore:t.dailyPuzzleScore,bookPuzzleScore:t.bookPuzzleScore,scannedPuzzleScore:t.scannedPuzzleScore,difficultyBonus:t.difficultyBonus,speedBonus:t.speedBonus,racingBonus:t.racingBonus},stats:t.stats})}return Object.entries(t).forEach(([e,t])=>{if(t?.sessions&&e!==r.sub&&(!a||l.has(e))){let r=N(t.sessions,n,e),l=r.volumeScore+r.dailyPuzzleScore+r.bookPuzzleScore+r.scannedPuzzleScore+r.difficultyBonus+r.speedBonus+r.racingBonus;i.push({userId:e,username:S(e,a?[a]:s),totalScore:l,breakdown:{volumeScore:r.volumeScore,dailyPuzzleScore:r.dailyPuzzleScore,bookPuzzleScore:r.bookPuzzleScore,scannedPuzzleScore:r.scannedPuzzleScore,difficultyBonus:r.difficultyBonus,speedBonus:r.speedBonus,racingBonus:r.racingBonus},stats:r.stats})}}),i.filter(e=>e.stats.totalPuzzles>0).sort((e,t)=>t.totalScore-e.totalScore)},[e,t,s,r,a]);return 0===o.length?null:(0,n.jsxs)("div",{className:"mb-8",children:[n.jsx("div",{className:"mb-4 rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-700 dark:bg-blue-900/30",children:(0,n.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["\uD83D\uDCA1 ",n.jsx("strong",{children:"Pro tip:"})," Your racing wins and scores change for each tab above depending on who you've beaten within that specific group. Switch between tabs to see your performance in different racing contexts!"]})}),n.jsx("div",{className:"mb-6",children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx(b.Z,{className:"mr-3 text-yellow-500",size:28}),(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Leaderboard"}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last 30 days",a?` • ${a.partyName}`:" • All Parties"]})]})]}),n.jsx("div",{className:"flex justify-center sm:justify-end",children:(0,n.jsxs)("button",{onClick:()=>i(!0),className:"group relative flex cursor-pointer items-center overflow-hidden rounded-full bg-gradient-to-r from-purple-500 to-blue-500 px-4 py-2 text-sm font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:from-purple-600 hover:to-blue-600 hover:shadow-xl",children:[(0,n.jsxs)("span",{className:"relative z-10 flex items-center whitespace-nowrap",children:["\uD83C\uDFC6 How scoring works",n.jsx("span",{className:"ml-1 animate-bounce",children:"✨"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-pink-400/20 opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]})})]})}),n.jsx("div",{className:"mb-6 space-y-3",children:o.map((e,t)=>n.jsx(_,{entry:e,rank:t+1,isCurrentUser:e.userId===r?.sub},e.userId))}),n.jsx(A,{isOpen:l,onClose:()=>i(!1)})]})};!function(){var e=Error("Cannot find module '@/providers/SessionsProvider/SessionsProvider'");throw e.code="MODULE_NOT_FOUND",e}();let B=({user:e,parties:t,mySessions:s,onRefresh:r})=>{let{sessions:a,friendSessions:l}=Object(function(){var e=Error("Cannot find module '@/providers/SessionsProvider/SessionsProvider'");throw e.code="MODULE_NOT_FOUND",e}())(),[i,d]=(0,c.useState)(new Set),[m,b]=(0,c.useState)("all"),[f,g]=(0,c.useState)(!1),y=async()=>{if(r&&!f){g(!0);try{await r()}finally{g(!1)}}},j=e=>{d(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},v="all"===m?void 0:t?.find(e=>e.partyId===m),w="all"===m?t:v?[v]:[];return(0,n.jsxs)("div",{className:"mb-4",children:[n.jsx("h1",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-4xl font-bold text-transparent",children:"Racing Teams"}),n.jsx("p",{className:"my-4",children:"\uD83D\uDCA1 Send your friends an invite link from the Races sidebar when solving a puzzle."}),t&&t.length>0&&n.jsx("div",{className:"mb-6",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 text-sm font-medium transition-colors ${"all"===m?"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"All"}),t.map(e=>n.jsx("button",{onClick:()=>b(e.partyId),className:`px-4 py-2 text-sm font-medium transition-colors ${m===e.partyId?"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400":"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200"}`,children:e.partyName},e.partyId))]})}),e&&t&&(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"Leaderboard"}),r&&(0,n.jsxs)("button",{onClick:y,disabled:f,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-600 transition-colors hover:text-gray-800 disabled:opacity-50 dark:text-gray-400 dark:hover:text-gray-200",children:[n.jsx(u.Z,{className:`h-4 w-4 ${f?"animate-spin":""}`}),n.jsx("span",{children:f?"Refreshing...":"Refresh"})]})]}),n.jsx(R,{sessions:a,friendSessions:l,parties:t,user:e,selectedParty:v})]}),w?.length!==0&&n.jsx(n.Fragment,{children:(0,n.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-6 dark:border-gray-700",children:[(0,n.jsxs)("h2",{className:"mb-4 text-xl font-bold text-gray-800 dark:text-gray-200",children:["Browse Friends' Puzzles",v&&(0,n.jsxs)("span",{className:"text-base font-normal text-gray-600 dark:text-gray-400",children:[" ","• ",v.partyName]})]}),n.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-400",children:"Select a friend below to see and solve their recent puzzles. Race to be the quickest!"})]})}),w?.length?n.jsx(n.Fragment,{children:n.jsx("ul",{className:"space-y-4 pb-16",children:w?.map(({partyId:t,members:r,partyName:a})=>n.jsx("li",{children:n.jsxs("div",{className:"rounded-2xl border border-stone-200 bg-stone-50/80 p-4 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:bg-zinc-800/80",children:[n.jsx("h3",{className:"text-theme-primary dark:text-theme-primary-light text-xl font-semibold",children:a}),n.jsx("ul",{className:"mt-4 space-y-4",children:r.filter(({userId:t})=>t!==e?.sub).map(({userId:e,memberNickname:t})=>n.jsxs("li",{className:"rounded-xl bg-gray-50 dark:bg-zinc-700/40",children:[n.jsxs("button",{className:"flex w-full cursor-pointer items-center rounded-xl p-3 transition-colors hover:bg-gray-100 dark:hover:bg-zinc-600/40",onClick:()=>j(e),children:[n.jsx("span",{className:"mr-2 text-xl",children:"\uD83E\uDDCD"}),n.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:t}),l[e]?.isLoading?n.jsx(x.Z,{className:"mr-0 ml-auto animate-spin"}):n.jsx(n.Fragment,{children:i.has(e)?n.jsx(h.Z,{className:"mr-0 ml-auto"}):n.jsx(p.Z,{className:"mr-0 ml-auto"})})]}),i.has(e)&&l[e]?.sessions&&n.jsx(n.Fragment,{children:l[e]?.sessions?.length?n.jsx("ul",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-4 lg:grid-cols-4",children:l[e]?.sessions?.sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime())?.map(e=>n.jsx(o.Z,{session:e,userSessions:s},e.sessionId))}):n.jsx("p",{className:"px-3 pb-3 text-gray-600 dark:text-gray-400",children:"No recent puzzles, ask them to play!"})})]},e))})]})},t))})}):n.jsx(n.Fragment,{})]})};function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var F=(0,c.forwardRef)(function(e,t){var s=e.color,r=e.size,a=void 0===r?24:r,l=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,["color","size"]);return m().createElement("svg",U({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===s?"currentColor":s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),m().createElement("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"}))});F.propTypes={color:D().string,size:D().oneOfType([D().string,D().number])},F.displayName="Activity";let Z=({sessions:e})=>{let{daysPlayedInThirtyDays:t,currentStreak:s}=(()=>{if(!e||0===e.length)return{daysPlayedInThirtyDays:0,currentStreak:0};let t=new Date(new Date().getTime()-2592e6),s=new Set;e.forEach(e=>{let r=new Date(e.updatedAt);r>=t&&s.add(r.toISOString().split("T")[0])});let r=s.size,a=0,l=new Date;for(let e=0;e<365;e++){let t=new Date(l.getTime()-864e5*e).toISOString().split("T")[0];if(s.has(t))a++;else{if(0===e)continue;break}}return{daysPlayedInThirtyDays:r,currentStreak:a}})();return(0,n.jsxs)("div",{className:"mb-3 w-fit rounded-xl border border-stone-200 bg-gradient-to-br from-stone-50/80 to-stone-100/80 p-3 shadow-sm backdrop-blur-sm dark:border-gray-700 dark:from-zinc-800/80 dark:to-zinc-900/80",children:[n.jsx("h2",{className:"mb-2 text-lg font-bold text-gray-800 dark:text-white",children:"Activity Stats"}),(0,n.jsxs)("div",{className:"flex gap-6",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900/50",children:n.jsx(E.Z,{className:"h-4 w-4 text-blue-600 dark:text-blue-400","data-testid":"calendar-icon"})}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:t}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Days played in past 30 days"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/50",children:n.jsx(F,{className:"h-4 w-4 text-orange-600 dark:text-orange-400","data-testid":"activity-icon"})}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white",children:s}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Day streak"})]})]})]})]})};var M=s(4260),Y=s(1043),H=s(5366),$=s(649),G=s(9101),q=s(176),W=s(5623);function V(){let e=(0,Y.useSearchParams)(),[t,s]=(0,c.useState)(e.get("tab")||i.Tab.START_PUZZLE),r=(0,Y.useRouter)(),{user:a,loginRedirect:l}=(0,c.useContext)(i.St)||{};(0,i.sd)();let[o,m]=(0,c.useState)(!1),{getSudokuOfTheDay:u}=(0,i.QP)(),{parties:x,refreshParties:h}=(0,M.L)({}),{sessions:p,refetchSessions:f,lazyLoadFriendSessions:g,fetchFriendSessions:y}=Object(function(){var e=Error("Cannot find module '@/providers/SessionsProvider/SessionsProvider'");throw e.code="MODULE_NOT_FOUND",e}())();(0,c.useRef)(!1);let j=Array.from(new Set(x?.map(({members:e})=>e.filter(({userId:e})=>e!==a?.sub).map(({memberNickname:e})=>e)).flat())),v=async e=>{if(m(!0),!a){m(!1),confirm("You need to sign in to continue. Would you like to sign in now?")&&l&&l({userInitiated:!0});return}let t=await u(e);if(t){r.push((0,W.r)(t.initial,t.final,{difficulty:e,sudokuId:t.sudokuId}));return}m(!1)},w=()=>{if(!a){confirm("You need to sign in to access the puzzle book. Would you like to sign in now?")&&l&&l({userInitiated:!0});return}r.push("/book")},N=e=>e===t?"bg-transparent text-theme-primary dark:text-theme-primary-light font-semibold":"text-gray-500 dark:text-gray-400",k=e=>{s(e),window.history.replaceState(null,"",`/?tab=${e}`),window.scrollTo({top:0,behavior:"smooth"})},S=(0,c.useCallback)(()=>{if(!p||0===p.length)return 0;let e=new Date;e.setHours(0,0,0,0);let t=p.map(e=>{let t=new Date(e.updatedAt);return t.setHours(0,0,0,0),t.getTime()}).filter((e,t,s)=>s.indexOf(e)===t).sort((e,t)=>t-e),s=0,r=e.getTime();for(let e of t)if(e===r)s++,r-=864e5;else if(e===r+864e5)s++,r=e-864e5;else break;return s},[p])(),E=(0,c.useCallback)(async()=>{await h(),x&&x.length>0&&await y(x)},[h,y,x]);return(0,n.jsxs)(n.Fragment,{children:[t===i.Tab.START_PUZZLE?(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[(0,n.jsxs)("div",{className:"pt-safe relative overflow-hidden bg-gradient-to-r from-blue-600 to-purple-600 px-6",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),(0,n.jsxs)("div",{className:"relative z-10 container mx-auto max-w-4xl py-4 text-center text-white md:py-6",children:[n.jsx("div",{className:"mb-3 flex justify-center md:mb-4",children:n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-white/20 backdrop-blur-sm md:h-20 md:w-20",children:n.jsx(G.default,{src:"/icons/icon-512.webp",alt:"Sudoku Race Logo",width:64,height:64,className:"h-10 w-10 md:h-12 md:w-12"})})}),n.jsx("h1",{className:"mb-3 text-3xl font-bold md:mb-4 md:text-4xl",children:"Ready to Race? \uD83C\uDFCE️"}),n.jsx("p",{className:"mb-6 text-lg opacity-90 md:mb-8 md:text-xl",children:"Share the challenge! Invite friends to race and see who's the fastest Sudoku solver \uD83C\uDFC1"}),n.jsx(i.te,{}),n.jsx("div",{className:"mb-4 md:mb-6",children:n.jsx("div",{className:"mx-auto max-w-sm rounded-xl border border-white/20 bg-purple-600/20 p-3 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-xl",children:"\uD83D\uDD25"}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"text-lg font-bold text-white",children:S}),n.jsx("span",{className:"ml-1 text-sm text-white/80",children:"day streak"})]})]}),n.jsx("button",{className:"cursor-pointer rounded-full bg-white/20 px-3 py-1 text-xs font-medium text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30",onClick:()=>k(i.Tab.FRIENDS),children:"Leaderboard"})]})})}),(0,n.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,n.jsxs)("div",{className:"mb-4 rounded-2xl bg-white/10 p-4 backdrop-blur-sm md:mb-6 md:p-6",children:[n.jsx("h3",{className:"mb-2 text-lg font-bold text-white md:mb-3 md:text-xl",children:"\uD83C\uDFC1 Daily Challenges"}),n.jsx("p",{className:"mb-3 text-sm text-white/80 md:mb-4 md:text-base",children:"Choose your difficulty - race against the clock and your friends! Fresh puzzles daily!"}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:[(0,n.jsxs)("button",{onClick:()=>v(i.Difficulty.SIMPLE),disabled:o,className:`${o?"cursor-wait":"cursor-pointer"} flex flex-col items-center justify-center rounded-xl bg-white/20 p-3 font-bold text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 disabled:opacity-50 md:p-4`,children:[n.jsx("span",{className:"mb-1 text-xl md:mb-2 md:text-2xl",children:"⚡"}),n.jsx("span",{className:"text-xs md:text-sm",children:"Tricky"}),n.jsx("div",{className:"mt-1 flex space-x-0.5",children:n.jsx("span",{className:"text-xs text-yellow-300",children:"⭐"})})]}),(0,n.jsxs)("button",{onClick:()=>v(i.Difficulty.EASY),disabled:o,className:`${o?"cursor-wait":"cursor-pointer"} relative flex flex-col items-center justify-center rounded-xl bg-white/20 p-3 font-bold text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 disabled:opacity-50 md:p-4`,children:[n.jsx("span",{className:"mb-1 text-xl md:mb-2 md:text-2xl",children:"\uD83D\uDD25"}),n.jsx("span",{className:"text-xs md:text-sm",children:"Challenging"}),n.jsx("div",{className:"mt-1 flex space-x-0.5",children:n.jsx("span",{className:"text-xs text-yellow-300",children:"⭐⭐"})})]}),(0,n.jsxs)("button",{onClick:()=>v(i.Difficulty.INTERMEDIATE),disabled:o,className:`${o?"cursor-wait":"cursor-pointer"} relative flex flex-col items-center justify-center rounded-xl bg-white/20 p-3 font-bold text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 disabled:opacity-50 md:p-4`,children:[n.jsx("span",{className:"mb-1 text-xl md:mb-2 md:text-2xl",children:"\uD83D\uDE80"}),n.jsx("span",{className:"text-xs md:text-sm",children:"Hard"}),n.jsx("div",{className:"mt-1 flex space-x-0.5",children:n.jsx("span",{className:"text-xs text-yellow-300",children:"⭐⭐⭐"})})]})]}),n.jsx("p",{className:"mt-3 text-xs text-white/80 md:mb-4 md:text-base",children:"For a larger range of difficulties and techniques check out this month's book below!"})]}),(()=>{let e=new Date(new Date().toISOString()).toLocaleString("en-US",{month:"long",timeZone:"UTC"});return(0,n.jsxs)("div",{className:"mb-4 rounded-2xl bg-white/10 p-4 backdrop-blur-sm md:mb-6 md:p-6",children:[(0,n.jsxs)("h3",{className:"mb-2 text-lg font-bold text-white md:mb-3 md:text-xl",children:["\uD83D\uDCDA ",e," Puzzle Book"]}),n.jsx("p",{className:"mb-3 text-sm text-white/80 md:mb-4 md:text-base",children:"50 new puzzles each month with varied solving techniques"}),(0,n.jsxs)("div",{className:"flex flex-col items-center rounded-xl bg-white/20 p-4 backdrop-blur-sm md:flex-row md:items-center md:justify-between md:p-6",children:[(0,n.jsxs)("div",{className:"mb-4 flex flex-col items-center md:mb-0 md:flex-row md:items-center",children:[n.jsx("button",{onClick:w,className:"mb-3 cursor-pointer md:mr-6 md:mb-0",children:n.jsx(q.F,{month:e,size:"large"})}),(0,n.jsxs)("div",{className:"text-center md:text-left",children:[(0,n.jsxs)("div",{className:"text-lg font-bold text-white md:text-xl",children:[e," Edition"]}),n.jsx("div",{className:"text-sm text-white/70 md:text-base",children:"50 Technique-Based Puzzles"})]})]}),n.jsx("button",{onClick:w,className:"inline-flex cursor-pointer items-center justify-center rounded-full bg-white/20 px-6 py-3 text-sm font-medium text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 md:px-8 md:py-4 md:text-base",children:"Browse Puzzles"})]})]})})(),(0,n.jsxs)("div",{className:"mb-4 rounded-2xl bg-white/10 p-4 backdrop-blur-sm md:mb-6 md:p-6",children:[n.jsx("h3",{className:"mb-2 text-lg font-bold text-white md:mb-3 md:text-xl",children:"\uD83C\uDFC1 Race Friends on ANY Puzzle!"}),n.jsx("p",{className:"mb-3 text-sm text-white/80 md:mb-4 md:text-base",children:"Found the perfect puzzle? Scan any Sudoku from books, newspapers, or websites and challenge your friends to solve the same puzzle. See who can solve it fastest! \uD83D\uDE80"}),(0,n.jsxs)("div",{className:"flex flex-col items-center rounded-xl bg-white/20 p-4 backdrop-blur-sm md:flex-row md:justify-between md:p-6",children:[(0,n.jsxs)("div",{className:"mb-4 text-center md:mb-0 md:text-left",children:[n.jsx("div",{className:"mb-2 text-lg font-bold text-white md:text-xl",children:"\uD83D\uDCF8 Import & Share Challenge"}),n.jsx("div",{className:"text-sm text-white/70 md:text-base",children:"Perfect for book puzzles, newspaper challenges, or that impossible puzzle you found online"})]}),(0,n.jsxs)($.default,{href:"/import",className:"inline-flex items-center justify-center rounded-full bg-white/20 px-6 py-3 text-sm font-bold text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 md:px-8 md:py-4 md:text-base",children:[n.jsx(I,{className:"mr-2 h-4 w-4 md:h-5 md:w-5"}),"Start Import Challenge"]})]})]}),(0,n.jsxs)("div",{className:"mb-4 rounded-2xl bg-white/8 p-4 backdrop-blur-sm md:mb-6 md:p-6",children:[n.jsx("h3",{className:"mb-2 text-lg font-bold text-white md:mb-3 md:text-xl",children:"\uD83D\uDC65 Team Racing"}),(0,n.jsxs)("p",{className:"mb-3 text-sm text-white/80 md:mb-4 md:text-base",children:["Race against"," ",j?.length?j.slice(0,3).join(", "):"your racing team"," ","and climb the leaderboard!"]}),(0,n.jsxs)("button",{onClick:()=>k(i.Tab.FRIENDS),className:"inline-flex cursor-pointer items-center justify-center rounded-full bg-white/20 px-4 py-2 text-sm font-medium text-white backdrop-blur-sm transition-all hover:scale-105 hover:bg-white/30 md:px-6 md:py-3 md:text-base",children:[n.jsx(H.Z,{className:"mr-2 h-4 w-4 md:h-5 md:w-5"}),"View Racing Teams"]})]})]})]}),n.jsx("div",{className:"absolute right-0 bottom-0 left-0 h-2 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400"})]}),n.jsx(i.$i,{}),n.jsx("div",{className:"pb-24"})]}):n.jsx("div",{className:"pt-safe min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,n.jsxs)("div",{className:"container mx-auto max-w-4xl px-6 pb-24",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Z,{sessions:p||[]})}),t===i.Tab.MY_PUZZLES&&n.jsx(d,{sessions:p||[]}),t===i.Tab.FRIENDS&&n.jsx(B,{user:a,parties:x,mySessions:p||[],onRefresh:E})]})}),(0,n.jsxs)(i.$_,{children:[(0,n.jsxs)("button",{onClick:()=>k(i.Tab.START_PUZZLE),className:`group inline-flex cursor-pointer flex-col items-center justify-center px-0 transition-colors duration-200 active:opacity-70 ${N(i.Tab.START_PUZZLE)}`,children:[n.jsx(L.Z,{className:"text-theme-primary dark:text-theme-primary-light mb-1 h-6 w-6"}),n.jsx("span",{className:"text-center text-xs font-medium",children:"Start Race"})]}),(0,n.jsxs)("button",{onClick:()=>k(i.Tab.MY_PUZZLES),className:`group inline-flex cursor-pointer flex-col items-center justify-center px-0 transition-colors duration-200 active:opacity-70 ${N(i.Tab.MY_PUZZLES)}`,children:[n.jsx(b.Z,{className:"text-theme-primary dark:text-theme-primary-light mb-1 h-6 w-6"}),n.jsx("span",{className:"text-center text-xs font-medium",children:"My Puzzles"})]}),(0,n.jsxs)("button",{onClick:()=>k(i.Tab.FRIENDS),className:`group inline-flex cursor-pointer flex-col items-center justify-center px-0 transition-colors duration-200 active:opacity-70 ${N(i.Tab.FRIENDS)}`,children:[n.jsx(H.Z,{className:"text-theme-primary dark:text-theme-primary-light mb-1 h-6 w-6"}),n.jsx("span",{className:"text-center text-xs font-medium",children:"Racing Teams"})]})]})]})}function K(){return n.jsx(c.Suspense,{children:n.jsx(V,{})})}!function(){var e=Error("Cannot find module '@/providers/SessionsProvider/SessionsProvider'");throw e.code="MODULE_NOT_FOUND",e}()},2473:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(3677),a=s.n(r),l=s(6047),n=s.n(l);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var o=(0,r.forwardRef)(function(e,t){var s=e.color,r=e.size,l=void 0===r?24:r,n=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,["color","size"]);return a().createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:void 0===s?"currentColor":s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),a().createElement("polyline",{points:"6 9 12 15 18 9"}))});o.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},o.displayName="ChevronDown";let d=o},9365:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(3677),a=s.n(r),l=s(6047),n=s.n(l);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var o=(0,r.forwardRef)(function(e,t){var s=e.color,r=e.size,l=void 0===r?24:r,n=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,["color","size"]);return a().createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:void 0===s?"currentColor":s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),a().createElement("polyline",{points:"9 18 15 12 9 6"}))});o.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},o.displayName="ChevronRight";let d=o},7600:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(3677),a=s.n(r),l=s(6047),n=s.n(l);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}var o=(0,r.forwardRef)(function(e,t){var s=e.color,r=e.size,l=void 0===r?24:r,n=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,["color","size"]);return a().createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:void 0===s?"currentColor":s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),a().createElement("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}))});o.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},o.displayName="Zap";let d=o},151:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(3189).createProxy)(String.raw`/home/node/git/sudoku-web/apps/sudoku/src/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[522,395,443,147,176,800],()=>s(7978));module.exports=r})();