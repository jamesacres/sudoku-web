
> sudoku-web@0.1.0 test
> npm run type-check && jest --passWithNoTests --bail


> sudoku-web@0.1.0 type-check
> tsc --noEmit

PASS src/components/HeaderUser/UserButton.test.tsx
  ● Console

    console.error
      Warning: An update to TransitionChildFn inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TransitionChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8106:5)
          at TransitionRootFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8258:9)
          at div
          at PortalWrapper (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3598:39)
          at OpenClosedProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:1780:31)
          at PopoverFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:6143:9)
          at UserButton (/Users/jamesacres/Documents/git/sudoku-web/src/components/HeaderUser/UserButton.tsx:8:3)

      188 |       return;
      189 |     }
    > 190 |     originalError.apply(console, args);
          |                   ^
      191 |   };
      192 | });
      193 |

      at console.error (jest.setup.js:190:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.addFlag (node_modules/@headlessui/react/dist/headlessui.dev.cjs:6852:7)
      at enter (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8178:30)
      at match (node_modules/@headlessui/react/dist/headlessui.dev.cjs:1013:48)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8176:12)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:829:65
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:8055:106

    console.warn
      There are no focusable elements inside the <FocusTrap />

      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:3399:19
      at invokeTheCallbackFunction (node_modules/jsdom/lib/jsdom/living/generated/Function.js:19:26)
      at node_modules/jsdom/lib/jsdom/browser/Window.js:613:9

    console.error
      Warning: An update to TransitionChildFn inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TransitionChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8106:5)
          at TransitionRootFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8258:9)
          at UserButton (/Users/jamesacres/Documents/git/sudoku-web/src/components/HeaderUser/UserButton.tsx:8:3)

      188 |       return;
      189 |     }
    > 190 |     originalError.apply(console, args);
          |                   ^
      191 |   };
      192 | });
      193 |

      at console.error (jest.setup.js:190:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.addFlag (node_modules/@headlessui/react/dist/headlessui.dev.cjs:6852:7)
      at enter (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8178:30)
      at match (node_modules/@headlessui/react/dist/headlessui.dev.cjs:1013:48)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8176:12)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:829:65
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:8055:106

    console.error
      Warning: An update to TransitionChildFn inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TransitionChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8106:5)
          at ChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8339:60)
          at div
          at PortalWrapper (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3598:39)
          at div
          at FocusTrapFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3233:45)
          at DescriptionProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:4091:24)
          at ForcePortalRoot (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3464:111)
          at GroupFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3564:9)
          at PortalFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3505:57)
          at ForcePortalRoot (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3464:111)
          at StackProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:4047:3)
          at DialogFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:4165:20)
          at OpenClosedProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:1780:31)
          at TransitionChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8106:5)
          at TransitionRootFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8258:9)
          at UserButton (/Users/jamesacres/Documents/git/sudoku-web/src/components/HeaderUser/UserButton.tsx:8:3)

      188 |       return;
      189 |     }
    > 190 |     originalError.apply(console, args);
          |                   ^
      191 |   };
      192 | });
      193 |

      at console.error (jest.setup.js:190:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.addFlag (node_modules/@headlessui/react/dist/headlessui.dev.cjs:6852:7)
      at enter (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8178:30)
      at match (node_modules/@headlessui/react/dist/headlessui.dev.cjs:1013:48)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8176:12)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:829:65
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:8055:106

    console.error
      Warning: An update to TransitionChildFn inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
          at TransitionChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8106:5)
          at ChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8339:60)
          at div
          at div
          at div
          at PortalWrapper (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3598:39)
          at div
          at FocusTrapFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3233:45)
          at DescriptionProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:4091:24)
          at ForcePortalRoot (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3464:111)
          at GroupFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3564:9)
          at PortalFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3505:57)
          at ForcePortalRoot (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:3464:111)
          at StackProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:4047:3)
          at DialogFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:4165:20)
          at OpenClosedProvider (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:1780:31)
          at TransitionChildFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8106:5)
          at TransitionRootFn (/Users/jamesacres/Documents/git/sudoku-web/node_modules/@headlessui/react/dist/headlessui.dev.cjs:8258:9)
          at UserButton (/Users/jamesacres/Documents/git/sudoku-web/src/components/HeaderUser/UserButton.tsx:8:3)

      188 |       return;
      189 |     }
    > 190 |     originalError.apply(console, args);
          |                   ^
      191 |   };
      192 | });
      193 |

      at console.error (jest.setup.js:190:19)
      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom.development.js:27628:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:25547:5)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom.development.js:16708:7)
      at Object.addFlag (node_modules/@headlessui/react/dist/headlessui.dev.cjs:6852:7)
      at enter (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8178:30)
      at match (node_modules/@headlessui/react/dist/headlessui.dev.cjs:1013:48)
      at Object.current (node_modules/@headlessui/react/dist/headlessui.dev.cjs:8176:12)
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:829:65
      at node_modules/@headlessui/react/dist/headlessui.dev.cjs:8055:106

FAIL src/hooks/useWakeLock.test.ts
  ● Console

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

    console.info
      Screen wake lock manually released

      at src/hooks/useWakeLock.ts:52:17

  ● useWakeLock › initialization › should initialize isActive as false

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      73 |       const { result } = renderHook(() => useWakeLock());
      74 |
    > 75 |       expect(result.current.isActive).toBe(false);
         |                                       ^
      76 |     });
      77 |
      78 |     it('should set up visibility change listener on mount', () => {

      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:75:39)

  ● useWakeLock › requestWakeLock › should update isActive to true after request

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      145 |       const { result } = renderHook(() => useWakeLock());
      146 |
    > 147 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      148 |
      149 |       await act(async () => {
      150 |         await result.current.requestWakeLock();

      at src/hooks/useWakeLock.test.ts:147:39
      at src/hooks/useWakeLock.test.ts:9:71
      at Object.<anonymous>.__awaiter (src/hooks/useWakeLock.test.ts:5:12)
      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:144:67)

  ● useWakeLock › releaseWakeLock › should clear wake lock reference after release

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: null

      266 |       });
      267 |
    > 268 |       expect(result.current.isActive).toBe(true);
          |                                       ^
      269 |
      270 |       await act(async () => {
      271 |         await result.current.releaseWakeLock();

      at src/hooks/useWakeLock.test.ts:268:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › visibility change handling › should re-request wake lock when document becomes visible

    expect(received).toBeGreaterThan(expected)

    Expected: > 1
    Received:   1

      352 |
      353 |       // Should have requested again
    > 354 |       expect(mockNavigator.request.mock.calls.length).toBeGreaterThan(1);
          |                                                       ^
      355 |     });
      356 |
      357 |     it('should not re-request if wake lock is still active', async () => {

      at src/hooks/useWakeLock.test.ts:354:55
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › wake lock release event › should clear wake lock reference when released externally

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: null

      428 |       });
      429 |
    > 430 |       expect(result.current.isActive).toBe(true);
          |                                       ^
      431 |
      432 |       const releaseListener = mockWakeLock.addEventListener.mock.calls[0][1];
      433 |

      at src/hooks/useWakeLock.test.ts:430:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › cleanup on unmount › should release wake lock on unmount

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      452 |
      453 |       // The release should have been called during cleanup
    > 454 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      455 |     });
      456 |
      457 |     it('should remove visibility change listener on unmount', () => {

      at src/hooks/useWakeLock.test.ts:454:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › isActive status › should reflect current wake lock status

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      471 |       const { result } = renderHook(() => useWakeLock());
      472 |
    > 473 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      474 |
      475 |       await act(async () => {
      476 |         await result.current.requestWakeLock();

      at src/hooks/useWakeLock.test.ts:473:39
      at src/hooks/useWakeLock.test.ts:9:71
      at Object.<anonymous>.__awaiter (src/hooks/useWakeLock.test.ts:5:12)
      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:470:62)

  ● useWakeLock › isActive status › should return false if wake lock is released

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      495 |       mockWakeLock.released = true;
      496 |
    > 497 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      498 |     });
      499 |
      500 |     it('should return false if wake lock is null', () => {

      at src/hooks/useWakeLock.test.ts:497:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › isActive status › should return false if wake lock is null

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      501 |       const { result } = renderHook(() => useWakeLock());
      502 |
    > 503 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      504 |     });
      505 |   });
      506 |

      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:503:39)

  ● useWakeLock › multiple hook instances › should support multiple instances independently

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: null

      514 |       });
      515 |
    > 516 |       expect(result1.current.isActive).toBe(true);
          |                                        ^
      517 |       expect(result2.current.isActive).toBe(false);
      518 |     });
      519 |   });

      at src/hooks/useWakeLock.test.ts:516:40
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › edge cases › should handle rapid request and release cycles

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      530 |       });
      531 |
    > 532 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      533 |     });
      534 |
      535 |     it('should handle release before request', async () => {

      at src/hooks/useWakeLock.test.ts:532:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › edge cases › should handle release before request

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      540 |       });
      541 |
    > 542 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      543 |     });
      544 |   });
      545 | });

      at src/hooks/useWakeLock.test.ts:542:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

Summary of all failing tests
FAIL src/hooks/useWakeLock.test.ts
  ● useWakeLock › initialization › should initialize isActive as false

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      73 |       const { result } = renderHook(() => useWakeLock());
      74 |
    > 75 |       expect(result.current.isActive).toBe(false);
         |                                       ^
      76 |     });
      77 |
      78 |     it('should set up visibility change listener on mount', () => {

      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:75:39)

  ● useWakeLock › requestWakeLock › should update isActive to true after request

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      145 |       const { result } = renderHook(() => useWakeLock());
      146 |
    > 147 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      148 |
      149 |       await act(async () => {
      150 |         await result.current.requestWakeLock();

      at src/hooks/useWakeLock.test.ts:147:39
      at src/hooks/useWakeLock.test.ts:9:71
      at Object.<anonymous>.__awaiter (src/hooks/useWakeLock.test.ts:5:12)
      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:144:67)

  ● useWakeLock › releaseWakeLock › should clear wake lock reference after release

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: null

      266 |       });
      267 |
    > 268 |       expect(result.current.isActive).toBe(true);
          |                                       ^
      269 |
      270 |       await act(async () => {
      271 |         await result.current.releaseWakeLock();

      at src/hooks/useWakeLock.test.ts:268:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › visibility change handling › should re-request wake lock when document becomes visible

    expect(received).toBeGreaterThan(expected)

    Expected: > 1
    Received:   1

      352 |
      353 |       // Should have requested again
    > 354 |       expect(mockNavigator.request.mock.calls.length).toBeGreaterThan(1);
          |                                                       ^
      355 |     });
      356 |
      357 |     it('should not re-request if wake lock is still active', async () => {

      at src/hooks/useWakeLock.test.ts:354:55
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › wake lock release event › should clear wake lock reference when released externally

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: null

      428 |       });
      429 |
    > 430 |       expect(result.current.isActive).toBe(true);
          |                                       ^
      431 |
      432 |       const releaseListener = mockWakeLock.addEventListener.mock.calls[0][1];
      433 |

      at src/hooks/useWakeLock.test.ts:430:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › cleanup on unmount › should release wake lock on unmount

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      452 |
      453 |       // The release should have been called during cleanup
    > 454 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      455 |     });
      456 |
      457 |     it('should remove visibility change listener on unmount', () => {

      at src/hooks/useWakeLock.test.ts:454:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › isActive status › should reflect current wake lock status

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      471 |       const { result } = renderHook(() => useWakeLock());
      472 |
    > 473 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      474 |
      475 |       await act(async () => {
      476 |         await result.current.requestWakeLock();

      at src/hooks/useWakeLock.test.ts:473:39
      at src/hooks/useWakeLock.test.ts:9:71
      at Object.<anonymous>.__awaiter (src/hooks/useWakeLock.test.ts:5:12)
      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:470:62)

  ● useWakeLock › isActive status › should return false if wake lock is released

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      495 |       mockWakeLock.released = true;
      496 |
    > 497 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      498 |     });
      499 |
      500 |     it('should return false if wake lock is null', () => {

      at src/hooks/useWakeLock.test.ts:497:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › isActive status › should return false if wake lock is null

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      501 |       const { result } = renderHook(() => useWakeLock());
      502 |
    > 503 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      504 |     });
      505 |   });
      506 |

      at Object.<anonymous> (src/hooks/useWakeLock.test.ts:503:39)

  ● useWakeLock › multiple hook instances › should support multiple instances independently

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: null

      514 |       });
      515 |
    > 516 |       expect(result1.current.isActive).toBe(true);
          |                                        ^
      517 |       expect(result2.current.isActive).toBe(false);
      518 |     });
      519 |   });

      at src/hooks/useWakeLock.test.ts:516:40
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › edge cases › should handle rapid request and release cycles

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      530 |       });
      531 |
    > 532 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      533 |     });
      534 |
      535 |     it('should handle release before request', async () => {

      at src/hooks/useWakeLock.test.ts:532:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)

  ● useWakeLock › edge cases › should handle release before request

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: null

      540 |       });
      541 |
    > 542 |       expect(result.current.isActive).toBe(false);
          |                                       ^
      543 |     });
      544 |   });
      545 | });

      at src/hooks/useWakeLock.test.ts:542:39
      at fulfilled (src/hooks/useWakeLock.test.ts:6:58)


Test Suites: 1 failed, 1 passed, 2 of 89 total
Tests:       12 failed, 25 passed, 37 total
Snapshots:   0 total
Time:        2.376 s, estimated 6 s
Ran all test suites.
